{% extends 'base.html' %}
{% block content %}
    <h2>{{ post and "Edit Post" or "New Post" }}</h2>
    <form method="POST">
        {{ form.hidden_tag() }}

        <div>
            {{ form.title.label }}<br>
            {{ form.title(size=50, class="form-control") }}<br>
            {% for error in form.title.errors %}
                <span style="color:red;">{{ error }}</span>
            {% endfor %}
        </div>

        <div class="mt-3">
            {{ form.body.label }}<br>

            <!-- Trix Editor Setup -->
            <input id="body_input" type="hidden" name="body" value="{{ form.body.data }}">
            <trix-editor input="body_input"></trix-editor>

            {% for error in form.body.errors %}
                <span style="color:red;">{{ error }}</span>
            {% endfor %}
        </div>

        <div class="mt-3">
            {{ form.is_published() }} {{ form.is_published.label }}
        </div>

        <div class="mt-3">
            {{ form.submit(class="btn btn-success") }}
        </div>
    </form>
{% endblock %}
